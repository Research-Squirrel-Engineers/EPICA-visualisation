# ==========================================================================
# geo_lod_core.ttl
# geo-lod Core Ontology  —  shared vocabulary for EPICA and SISAL
# <http://w3id.org/geo-lod/>
#
# Domain-specific extensions:
#   epica_ontology.ttl  (IceCore, DrillingSite, CH4Observation, ...)
#   sisal_ontology.ttl  (Cave, Speleothem, SpeleothemObservation, ...)
# Both import this file via owl:imports.
#
# GeoSPARQL geometry pattern (CI_full.py, Florian Thiery, MIT 2023):
#   site  a geo:Feature, crm:E53_Place, crm:E27_Site ;
#         geo:hasGeometry  site_geom .
#   site_geom  a sf:Point ;
#     geo:asWKT "<http://www.opengis.net/def/crs/EPSG/0/4326> POINT(lon lat)"
#              ^^geo:wktLiteral .
# ==========================================================================

@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix geo:     <http://www.opengis.net/ont/geosparql#> .
@prefix sf:      <http://www.opengis.net/ont/sf#> .
@prefix crm:     <http://www.cidoc-crm.org/cidoc-crm/> .
@prefix crmsci:  <http://www.ics.forth.gr/isl/CRMsci/> .
@prefix sosa:    <http://www.w3.org/ns/sosa/> .
@prefix qudt:    <http://qudt.org/schema/qudt/> .
@prefix unit:    <http://qudt.org/vocab/unit/> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix dct:     <http://purl.org/dc/terms/> .
@prefix dcat:    <http://www.w3.org/ns/dcat#> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .
@prefix geolod:  <http://w3id.org/geo-lod/> .

<http://w3id.org/geo-lod/>
    a owl:Ontology ;
    rdfs:label   "geo-lod Core Ontology"@en ;
    rdfs:comment "Shared vocabulary for EPICA ice-core and SISAL speleothem \
palaeoclimate Linked Data. Domain extensions import this file."@en ;
    owl:versionInfo "1.0" .

# ==========================================================================
# CLASSES
# ==========================================================================

# -- SamplingLocation  (superclass: DrillingSite in EPICA, Cave in SISAL) --

geolod:SamplingLocation
    a owl:Class ;
    rdfs:subClassOf geo:Feature ;
    rdfs:subClassOf crm:E53_Place ;
    rdfs:subClassOf crm:E27_Site ;
    rdfs:label   "Sampling Location"@en ;
    rdfs:comment "A geographically identified location from which palaeoclimate \
proxy material was obtained (ice-core drilling site or speleothem cave)."@en .

# -- PalaeoclimateSample  (superclass: IceCore in EPICA, Speleothem in SISAL) --

geolod:PalaeoclimateSample
    a owl:Class ;
    rdfs:subClassOf sosa:Sample ;
    rdfs:label   "Palaeoclimate Sample"@en ;
    rdfs:comment "A physical archive recording a palaeoclimate signal \
(ice core or speleothem)."@en .

# -- PalaeoclimateObservation  (superclass for all measurement types) --

geolod:PalaeoclimateObservation
    a owl:Class ;
    rdfs:subClassOf crmsci:S4_Observation ;
    rdfs:subClassOf sosa:Observation ;
    rdfs:label   "Palaeoclimate Observation"@en ;
    rdfs:comment "A single measured value (e.g. δ¹⁸O, δ¹³C, CH₄) at a \
known depth or age within a palaeoclimate archive."@en .

# -- ObservableProperty --

geolod:ObservableProperty
    a owl:Class ;
    rdfs:subClassOf sosa:ObservableProperty ;
    rdfs:subClassOf crmsci:S9_Property_Type ;
    rdfs:label   "Observable Property"@en ;
    rdfs:comment "A measurable geochemical or physical property of a \
palaeoclimate sample (e.g. δ¹⁸O, δ¹³C, CH₄ concentration)."@en .

geolod:Delta18OProperty
    a owl:Class ;
    rdfs:subClassOf geolod:ObservableProperty ;
    rdfs:label   "δ¹⁸O Property"@en ;
    rdfs:comment "Stable oxygen isotope ratio (δ¹⁸O), shared by both \
ice-core and speleothem records."@en .

# -- Chronology  (superclass: IceCoreChronology in EPICA, UThChronology in SISAL) --

geolod:Chronology
    a owl:Class ;
    rdfs:label   "Chronology"@en ;
    rdfs:comment "A depth-age model assigning calendar ages to positions \
within a palaeoclimate archive."@en .

# -- MeasurementType --

geolod:MeasurementType
    a owl:Class ;
    rdfs:subClassOf crmsci:S6_Data_Evaluation ;
    rdfs:label   "Measurement Type"@en ;
    rdfs:comment "Classifies an observation by the physical quantity measured."@en .

# -- SmoothingMethod and subclasses --

geolod:SmoothingMethod
    a owl:Class ;
    rdfs:subClassOf crmsci:S6_Data_Evaluation ;
    rdfs:label   "Smoothing Method"@en ;
    rdfs:comment "A numerical method applied to reduce high-frequency \
noise in a palaeoclimate time series."@en .

geolod:RollingMedianFilter
    a owl:Class ;
    rdfs:subClassOf geolod:SmoothingMethod ;
    rdfs:label   "Rolling Median Filter"@en ;
    rdfs:comment "Non-parametric smoother computing the median within \
a sliding window of fixed width."@en .

geolod:SavitzkyGolayFilter
    a owl:Class ;
    rdfs:subClassOf geolod:SmoothingMethod ;
    rdfs:label   "Savitzky-Golay Filter"@en ;
    rdfs:comment "Polynomial least-squares smoothing filter preserving \
higher signal moments."@en .

# -- DataSource --

geolod:DataSource
    a owl:Class ;
    rdfs:subClassOf prov:Entity ;
    rdfs:label   "Data Source"@en ;
    rdfs:comment "A citable source (database, repository, publication) \
from which palaeoclimate observations were obtained."@en .

# ==========================================================================
# OBJECT PROPERTIES
# ==========================================================================

geolod:ageChronology
    a owl:ObjectProperty ;
    rdfs:label   "age chronology"@en ;
    rdfs:comment "Links an observation to the depth-age model used."@en .

geolod:measurementType
    a owl:ObjectProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   geolod:MeasurementType ;
    rdfs:label   "measurement type"@en .

geolod:smoothingMethod_median
    a owl:ObjectProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   geolod:RollingMedianFilter ;
    rdfs:label   "smoothing method (rolling median)"@en .

geolod:smoothingMethod_savgol
    a owl:ObjectProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   geolod:SavitzkyGolayFilter ;
    rdfs:label   "smoothing method (Savitzky-Golay)"@en .

geolod:tookPlaceAt
    a owl:ObjectProperty ;
    rdfs:range   geolod:SamplingLocation ;
    rdfs:label   "took place at"@en ;
    rdfs:comment "Links a sampling event or campaign to its location."@en .

geolod:extractedFrom
    a owl:ObjectProperty ;
    rdfs:domain  geolod:PalaeoclimateSample ;
    rdfs:range   geolod:SamplingLocation ;
    rdfs:label   "extracted from"@en .

geolod:removedSample
    a owl:ObjectProperty ;
    rdfs:label   "removed sample"@en ;
    rdfs:comment "Links a sampling event to the sample taken."@en .

geolod:hasObservation
    a owl:ObjectProperty ;
    rdfs:label   "has observation"@en .

# ==========================================================================
# DATATYPE PROPERTIES
# ==========================================================================

geolod:ageKaBP
    a owl:DatatypeProperty ;
    rdfs:range   xsd:decimal ;
    rdfs:label   "age (ka BP)"@en ;
    rdfs:comment "Age in thousands of years before present (ka BP)."@en .

geolod:measuredValue
    a owl:DatatypeProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   xsd:decimal ;
    rdfs:label   "measured value"@en .

geolod:smoothedValue_rollingMedian
    a owl:DatatypeProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   xsd:decimal ;
    rdfs:label   "smoothed value (rolling median)"@en .

geolod:smoothedValue_savgol
    a owl:DatatypeProperty ;
    rdfs:domain  geolod:PalaeoclimateObservation ;
    rdfs:range   xsd:decimal ;
    rdfs:label   "smoothed value (Savitzky-Golay)"@en .

geolod:windowSize
    a owl:DatatypeProperty ;
    rdfs:domain  geolod:SmoothingMethod ;
    rdfs:range   xsd:integer ;
    rdfs:label   "window size"@en ;
    rdfs:comment "Number of data points in the smoothing window."@en .

geolod:polyOrder
    a owl:DatatypeProperty ;
    rdfs:domain  geolod:SavitzkyGolayFilter ;
    rdfs:range   xsd:integer ;
    rdfs:label   "polynomial order"@en .

# ==========================================================================
# NAMED INDIVIDUALS  — shared between EPICA and SISAL
# ==========================================================================

geolod:Delta18O
    a geolod:Delta18OProperty, owl:NamedIndividual ;
    rdfs:label   "δ¹⁸O"@en ;
    rdfs:comment "Stable oxygen isotope ratio — shared observable property \
used in both ice-core and speleothem observations."@en .

geolod:MeasurementType_d18O
    a geolod:MeasurementType, owl:NamedIndividual ;
    rdfs:label   "δ¹⁸O measurement"@en .

# ==========================================================================
# EXTERNAL VOCABULARY LABELS
# (so Protégé also shows labels for imported terms)
# ==========================================================================

geo:Feature
    rdfs:label   "Feature"@en ;
    rdfs:comment "An abstraction of a real-world phenomenon (OGC GeoSPARQL)."@en .

geo:FeatureCollection
    rdfs:label   "Feature Collection"@en ;
    rdfs:comment "A collection of geo:Feature instances (GeoSPARQL 1.1)."@en .

geo:Geometry
    rdfs:label   "Geometry"@en ;
    rdfs:comment "A coherent set of direct positions in space (OGC GeoSPARQL)."@en .

geo:hasGeometry    rdfs:label "has geometry"@en .
geo:asWKT          rdfs:label "as WKT"@en .

sf:Point
    rdfs:label   "Point"@en ;
    rdfs:comment "A single location in n-dimensional space (OGC Simple Features). \
Subclass of geo:Geometry."@en .

crm:E27_Site
    rdfs:label   "Site"@en ;
    rdfs:comment "A place that was or is the focus of human activity (CIDOC-CRM E27)."@en .

crm:E53_Place
    rdfs:label   "Place"@en ;
    rdfs:comment "An extent in space (CIDOC-CRM E53)."@en .

crmsci:S4_Observation
    rdfs:label   "Observation"@en ;
    rdfs:comment "A scientific observation event (CRMsci S4)."@en .

crmsci:S6_Data_Evaluation
    rdfs:label   "Data Evaluation"@en ;
    rdfs:comment "A process producing a value by evaluating data (CRMsci S6)."@en .

crmsci:S9_Property_Type
    rdfs:label   "Property Type"@en ;
    rdfs:comment "A type of measurable property (CRMsci S9)."@en .

crmsci:S1_Matter_Removal
    rdfs:label   "Matter Removal"@en ;
    rdfs:comment "A process of removing matter from an object (CRMsci S1)."@en .

sosa:Observation        rdfs:label "Observation"@en .
sosa:ObservableProperty rdfs:label "Observable Property"@en .
sosa:Sample             rdfs:label "Sample"@en .
prov:Entity             rdfs:label "Entity"@en .
