flowchart LR

CATALOG(["PalaeoclimateDataCatalogue
geolod:EPICA_DomeC_Catalog"])

DATASET(["IceCoreDataset
geolod:EPICA_DomeC_Dataset"])

OBS(["IceCoreObservation
geolod:Obs_CH4_0001
geolod:Obs_d18O_0001"])

CORE(["IceCore
geolod:EpicaDomeC_IceCore"])

SITE(["DrillingSite
geolod:EpicaDomeC_Site"])

CAMPAIGN(["DrillingCampaign
EPICA Dome C 1996-2004"])

PROP_CH4(["CH4ConcentrationProperty"])
PROP_D18O(["Delta18OProperty"])
MTYPE_CH4(["MeasurementType CH4"])
MTYPE_D18O(["MeasurementType d18O"])
CHRON_EDC2(["EDC2 Chronology"])
CHRON_AICC(["AICC2023 Chronology"])
MEDIAN(["RollingMedianFilter w11"])
SG(["SavitzkyGolayFilter w11 p2"])
SOURCE_CH4(["PANGAEA 472484
Spahni 2006"])
SOURCE_D18O(["PANGAEA 961024
Bouchet 2023"])

GEOM(["sf:Point
geolod:EpicaDomeC_Geometry"])

LDEPTH((atDepth_m))
LAGE((ageKaBP))
LVAL((measuredValue))
LMEDIAN((smoothed median))
LSG((smoothed savgol))
LWKT((asWKT POINT))
LPPB((unit PPB))
LPRM((unit PERMILLE))

CATALOG -->|dcat:dataset| DATASET
DATASET -->|hasObservation| OBS
DATASET -->|hasDrillingCampaign| CAMPAIGN
OBS -->|hasFeatureOfInterest| CORE
OBS -->|observedProperty| PROP_CH4
OBS -->|observedProperty| PROP_D18O
OBS -->|measurementType| MTYPE_CH4
OBS -->|measurementType| MTYPE_D18O
OBS -->|ageChronology| CHRON_EDC2
OBS -->|ageChronology| CHRON_AICC
OBS -->|smoothingMethod| MEDIAN
OBS -->|smoothingMethod| SG
OBS -->|wasDerivedFrom| SOURCE_CH4
OBS -->|wasDerivedFrom| SOURCE_D18O
OBS -.->|atDepth_m| LDEPTH
OBS -.->|ageKaBP| LAGE
OBS -.->|measuredValue| LVAL
OBS -.->|smoothed| LMEDIAN
OBS -.->|smoothed| LSG
PROP_CH4 -.->|unit| LPPB
PROP_D18O -.->|unit| LPRM
CORE -->|extractedFrom| SITE
CAMPAIGN -->|tookPlaceAt| SITE
CAMPAIGN -->|removedSample| CORE
SITE -->|geo:hasGeometry| GEOM
GEOM -.->|asWKT| LWKT

%% Main instances - darker green
style CATALOG fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px
style DATASET fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px
style OBS fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px
style CORE fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px
style SITE fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px
style CAMPAIGN fill:#2d6a4f,color:#fff,stroke:#1b4332,stroke-width:2px

%% Supporting instances - lighter green
style PROP_CH4 fill:#40916c,color:#fff,stroke:#2d6a4f
style PROP_D18O fill:#40916c,color:#fff,stroke:#2d6a4f
style MTYPE_CH4 fill:#40916c,color:#fff,stroke:#2d6a4f
style MTYPE_D18O fill:#40916c,color:#fff,stroke:#2d6a4f
style CHRON_EDC2 fill:#40916c,color:#fff,stroke:#2d6a4f
style CHRON_AICC fill:#40916c,color:#fff,stroke:#2d6a4f
style MEDIAN fill:#40916c,color:#fff,stroke:#2d6a4f
style SG fill:#40916c,color:#fff,stroke:#2d6a4f
style SOURCE_CH4 fill:#40916c,color:#fff,stroke:#2d6a4f
style SOURCE_D18O fill:#40916c,color:#fff,stroke:#2d6a4f

%% Geometry - blue
style GEOM fill:#457b9d,color:#fff,stroke:#2c5f7a

%% Literals - bright yellow
style LDEPTH fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LAGE fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LVAL fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LMEDIAN fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LSG fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LWKT fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LPPB fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
style LPRM fill:#ffd60a,color:#000,stroke:#d4a005,stroke-width:2px
